Continuation of snapshots/latest_snapshot.txt
Generated: 2026-02-12T23:59:00Z

Continuation / Operational notes (2026-02-12T23:59:00Z)
-----------------------------------------------

Operational checklist (next immediate actions):
1. Confirm network egress to SMTP (port 25) from this host:
   - Run `tools/diagnose_smtp.py` which performs DNS resolution, MX discovery, and TCP connect checks to port 25 for each `derived_domain` in the QA sample.
   - If port 25 is blocked, record the firewall/ISP block and fallback to non‑SMTP heuristics (see fallback list below).

2. Run reprobe in atomic per-candidate mode (Option A):
   - Use `tools/reprobe_candidates.py --limit 10 --atomic-commit` to reprobe the first-10 QA prospects and commit each candidate row immediately after probing so results are visible in `enrichment.db`.
   - After run completes, export a quick report: `python tools/inspect_candidates.py --db sqlite:///enrichment.db --limit 50 --out outputs/reprobe_report.csv`.

3. If reprobe still yields zero `validated_smtp` results, gather diagnostics from `tools/diagnose_smtp.py` output for each failed domain and categorize failures into:
   - No MX records
   - MX exists but connection refused / filtered
   - MX accepts connection but RCPT rejects (hard bounce)
   - Temporary or greylisting behavior

Fallback heuristics (if SMTP egress remains unavailable):
- Use MX presence + vendor indicators (Google Workspace, Microsoft 365 heuristics) to raise confidence.
- Prefer corporate-format addresses (firstname.lastname@domain, f.lastname@domain) and boost score if multiple MX hosts from major providers are present.
- Use WHOIS/website/contact pages (connectors/wayback.py + connectors/recondon_craigslist.py patterns) to find explicit addresses.

Acceptance tuning suggestions (quick experiment):
- Temporarily lower `score` threshold to 0.5 for the QA sample and run `tools/iterative_validate.py` for a single pass to increase candidate visibility (do not enable globally).
- Add an execution flag `--force-accept-sample` to perform manual QA on the 10-row sample without changing global defaults.

Files added/modified (pending commit review):
- `tools/diagnose_smtp.py` — diagnostic helper (DNS + port25 checks)
- `tools/reprobe_candidates.py` — reprobe flow with `--atomic-commit` support (first-pass implemented)

How I'll verify success:
1. Run `tools/diagnose_smtp.py` against the 10-row QA set and capture diagnostics to `outputs/diagnose_10.json`.
2. Run `tools/reprobe_candidates.py --limit 10 --atomic-commit` and then run `tools/inspect_candidates.py` to produce `outputs/reprobe_report.csv`.
3. Update `snapshots/latest_snapshot.txt` with concrete counts (prospects processed, validated_smtp count, purged count, domains lacking MX) and a short remediation plan for the remaining failures.

If you'd like, I can run the diagnostic and reprobe commands now and append the resulting counts and small reports to this snapshot or attempt to merge the continuation into `latest_snapshot.txt`.
